
\documentclass[a4paper,oneside]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\usepackage[english]{babel}
\usepackage{amsthm,amssymb,amsmath,amsfonts,commath}  %%% for maths
\usepackage{thmtools,framed}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{enumerate} 
%\usepackage{semantic} 
%\usepackage{graphicx} %%% \to include figures 
%\usepackage{subfig} %%%% for two figures side by side
\usepackage[total={5in, 9in}]{geometry}  %%% for changing margins
\usepackage[colorinlistoftodos,prependcaption]{todonotes} %% to write notes
\usepackage[toc,page]{appendix}
\usepackage{hyperref}  %%% for url 
\hypersetup{
	colorlinks=true,
	linkcolor=blue,
	filecolor=magenta,      
	urlcolor=cyan,
}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{lipsum}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter
\def\@seccntformat#1{\@ifundefined{#1@cntformat}%
	{\csname the#1\endcsname\quad}%      default
	{\csname #1@cntformat\endcsname}}%   individual control
\newcommand{\section@cntformat}{\S\thesection\quad}
\newcommand{\subsection@cntformat}{\S\thesubsection\quad}
\newcommand{\subsubsection@cntformat}{\S\thesubsubsection\quad}
\makeatletter
%%%%%%%%%%%%%%%% THEOREM %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{theo}[section] \setcounter{theo}{0} %% counter
\renewcommand{\thetheo}{\arabic{chapter}.\arabic{section}.\arabic{theo}}
\newenvironment{theorem}[2][]{%
	\refstepcounter{theo}%
	\ifstrempty{#1}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=blue!20]
				{\strut Theorem~\thetheo};}}
	}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=blue!20]
				{\strut Theorem~\thetheo:~#1};}}%
	}%
	\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
		linewidth=2pt,topline=true,%
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}
	\begin{mdframed}[]\relax%
		\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%%% For lemma %%%%%%%%%%%%%%%
\newcounter{lem}[section]\setcounter{lem}{0}
\renewcommand{\thelem}{\arabic{chapter}.\arabic{section}.\arabic{lem}}
\newenvironment{lemma}[2][]{%
	\refstepcounter{lem}%
	\ifstrempty{#1}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=orange!20]
				{\strut Lemma~\thelem};}}
	}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=orange!20]
				{\strut Lemma~\thelem:~#1};}}%
	}%
	\mdfsetup{innertopmargin=10pt,linecolor=green!20,%
		linewidth=2pt,topline=true,%
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}
	\begin{mdframed}[]\relax%
		\label{#2}}{\end{mdframed}}

%%%%%%%%%%%%% definition %%%%%%%%%%%%%%%
\newcounter{def}[subsection]\setcounter{def}{0}
\renewcommand{\thedef}{\arabic{chapter}.\arabic{section}.\arabic{def}}
\newenvironment{definition}[2][]{%
	\refstepcounter{def}%
	\ifstrempty{#1}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=red!25]
				{\strut Definition~\thedef};}}
	}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=red!25]
				{\strut Definition~\thedef:~#1};}}%
	}%
	\mdfsetup{innertopmargin=10pt,linecolor=red!25,%
		linewidth=2pt,topline=true,%
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}
	\begin{mdframed}[]\relax%
		\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%% corollary %%%%%%%%%%%%%%%%%%
\newcounter{cor}[section]\setcounter{cor}{0}
\renewcommand{\thecor}{\arabic{chapter}.\arabic{section}.\arabic{cor}}
\newenvironment{corollary}[2][]{%
	\refstepcounter{cor}%
	\ifstrempty{#1}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=yellow!20]
				{\strut Corollary~\thecor};}}
	}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=yellow!20]
				{\strut Corollary~\thecor:~#1};}}%
	}%
	\mdfsetup{innertopmargin=10pt,linecolor=yellow!20,%
		linewidth=2pt,topline=true,%
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}
	\begin{mdframed}[]\relax%
		\label{#2}}{\end{mdframed}}

%%%%%%%%%%%%%proposition%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{prop}[section]\setcounter{prop}{0}
\renewcommand{\theprop}{\arabic{chapter}.\arabic{section}.\arabic{prop}}
\newenvironment{proposition}[2][]{%
	\refstepcounter{prop}%
	\ifstrempty{#1}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=green!25]
				{\strut Proposition~\theprop};}}
	}%
	{\mdfsetup{%
			frametitle={%
				\tikz[baseline=(current bounding box.east),outer sep=0pt]
				\node[anchor=east,rectangle,fill=green!25]
				{\strut Proposition~\theprop:~#1};}}%
	}%
	\mdfsetup{innertopmargin=10pt,linecolor=green!25,%
		linewidth=2pt,topline=true,%
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax
	}
	\begin{mdframed}[]\relax%
		\label{#2}}{\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\expandafter\let\expandafter\oldproof\csname\string\proof\endcsname
\let\oldendproof\endproof
\renewenvironment{proof}[1][\proofname]{%
	\oldproof[\bf \scshape \large #1]%
}{\oldendproof}
\renewcommand\qedsymbol{$\blacksquare$}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\colorlet{shadecolor}{orange!12}

\newtheorem{prob}{Problem}

\newenvironment{problem}
{\begin{shaded}\begin{prob}}
		{\end{prob}\end{shaded}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\norm}[1]{\left\lVert #1 \right \rVert} 

\begin{document}

	\begin{titlepage} % Suppresses headers and footers on the title page
		
		\centering % Centre everything on the title page
		
		\scshape % Use small caps for all text on the title page
		
		\vspace*{\baselineskip} % White space at the top of the page
		
		%------------------------------------------------
		%	Title
		%------------------------------------------------
		
		\rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal rule
		\rule{\textwidth}{0.4pt} % Thin horizontal rule
		
		\vspace{0.75\baselineskip} % Whitespace above the title
		
		{\huge TITLE\\} % Title
		
		\vspace{0.75\baselineskip} % Whitespace below the title
		
		\rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Thin horizontal rule
		\rule{\textwidth}{1.6pt} % Thick horizontal rule
		
		\vspace{2\baselineskip} % Whitespace after the title block
		
		%------------------------------------------------
		%	Subtitle
		%------------------------------------------------
		
		\LARGE{COURSE} 
		
		\vspace*{3\baselineskip} % Whitespace under the subtitle
		
		
		
		\vspace{0.5\baselineskip} 
		
		{\scshape   \LARGE Professor\\ } % Editor list
		
		\vspace{0.5\baselineskip} 
		
		\textit{\Large affiliation} % affiliation
		
		\vfill 
		
		%------------------------------------------------
		% Author
		%------------------------------------------------
		
		
		\vspace{0.3\baselineskip} 
		
		
		{\large Edited by\\  Your name} 
		
	\end{titlepage}
	\tableofcontents
%\newpage
\chapter{Title 1}

\section{Title 2}
\subsection{Title 3}

\begin{definition}[DEF NAME]{def:label} %%  [can be kept empty]
	\lipsum[1][1-3]
\end{definition}

\begin{theorem}[THM NAME]{thm:label}%%  [can be kept empty]
	\lipsum[2][1-3]
\end{theorem}

\begin{lemma}[LEM NAME]{lem:label}%%  [can be kept empty]
	\lipsum[3][1-3]
\end{lemma}

\begin{proposition}[PROP NAME]{prop:label}%%  [can be kept empty]
	\lipsum[4][1-3]
\end{proposition}

\begin{corollary}[COR NAME]{cor:label}%%  [can be kept empty]
	\lipsum[5][1-3]
\end{corollary}

\begin{problem}%%  [can be kept empty]
	\lipsum[1][1-3]
\end{problem}
\begin{proof}[Proof Head]
	\lipsum[1][1-10]
\end{proof}



\end{document}
.